{"architecture":"amd64","config":{"Hostname":"45f28166fed1","Domainname":"","User":"","AttachStdin":false,"AttachStdout":false,"AttachStderr":false,"Tty":false,"OpenStdin":false,"StdinOnce":false,"Env":["PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin","KERNEL_VERSION=4.4.39","AUFS_REPO=https://github.com/sfjro/aufs4-standalone","AUFS_BRANCH=aufs4.4","AUFS_COMMIT=45192fd8c7c447090b990953c62760dc18508dd7","ROOTFS=/rootfs","TCL_REPO_BASE=http://distro.ibiblio.org/tinycorelinux/7.x/x86_64"],"Cmd":["/bin/bash"],"ArgsEscaped":true,"Image":"sha256:c9f28a2c0f896e6e7f35a0b72852a4bb825d69626fde9b05e7c572c2b177a355","Volumes":null,"WorkingDir":"","Entrypoint":null,"OnBuild":[],"Labels":{}},"container":"e639229b2d668e7c4ea37ff2ff4af862bba4c9f67250bd1edbcec75e37de6b57","container_config":{"Hostname":"45f28166fed1","Domainname":"","User":"","AttachStdin":false,"AttachStdout":false,"AttachStderr":false,"Tty":false,"OpenStdin":false,"StdinOnce":false,"Env":["PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin","KERNEL_VERSION=4.4.39","AUFS_REPO=https://github.com/sfjro/aufs4-standalone","AUFS_BRANCH=aufs4.4","AUFS_COMMIT=45192fd8c7c447090b990953c62760dc18508dd7","ROOTFS=/rootfs","TCL_REPO_BASE=http://distro.ibiblio.org/tinycorelinux/7.x/x86_64"],"Cmd":["/bin/sh","-c","#(nop) ","ENV TCL_REPO_BASE=http://distro.ibiblio.org/tinycorelinux/7.x/x86_64"],"ArgsEscaped":true,"Image":"sha256:c9f28a2c0f896e6e7f35a0b72852a4bb825d69626fde9b05e7c572c2b177a355","Volumes":null,"WorkingDir":"","Entrypoint":null,"OnBuild":[],"Labels":{}},"created":"2017-01-16T08:01:02.815347329Z","docker_version":"1.12.6","history":[{"created":"2016-12-13T22:10:59.102721199Z","created_by":"/bin/sh -c #(nop) ADD file:1d214d2782eaccc743b8d683ccecf2f87f12a0ecdfbcd6fdf4943ce616f23870 in / "},{"created":"2016-12-13T22:10:59.712034744Z","created_by":"/bin/sh -c #(nop)  CMD [\"/bin/bash\"]","empty_layer":true},{"created":"2017-01-16T07:56:46.387623898Z","created_by":"/bin/sh -c apt-get update \u0026\u0026 apt-get -y install  unzip                         xz-utils                         curl                         bc                         git                         build-essential                         golang                         cpio                         gcc libc6 libc6-dev                         kmod                         squashfs-tools                         genisoimage                         xorriso                         syslinux                         isolinux                         automake                         pkg-config                         p7zip-full"},{"created":"2017-01-16T07:56:49.435198606Z","created_by":"/bin/sh -c #(nop)  ENV KERNEL_VERSION=4.4.39","empty_layer":true},{"created":"2017-01-16T07:57:43.399244098Z","created_by":"/bin/sh -c curl --retry 10 https://www.kernel.org/pub/linux/kernel/v${KERNEL_VERSION%%.*}.x/linux-$KERNEL_VERSION.tar.xz | tar -C / -xJ \u0026\u0026     mv /linux-$KERNEL_VERSION /linux-kernel"},{"created":"2017-01-16T07:57:48.617639074Z","created_by":"/bin/sh -c #(nop)  ENV AUFS_REPO=https://github.com/sfjro/aufs4-standalone","empty_layer":true},{"created":"2017-01-16T07:57:48.887357077Z","created_by":"/bin/sh -c #(nop)  ENV AUFS_BRANCH=aufs4.4","empty_layer":true},{"created":"2017-01-16T07:57:49.127250831Z","created_by":"/bin/sh -c #(nop)  ENV AUFS_COMMIT=45192fd8c7c447090b990953c62760dc18508dd7","empty_layer":true},{"created":"2017-01-16T07:57:51.225562709Z","created_by":"/bin/sh -c git clone -b \"$AUFS_BRANCH\" \"$AUFS_REPO\" /aufs-standalone \u0026\u0026     cd /aufs-standalone \u0026\u0026     git checkout -q \"$AUFS_COMMIT\" \u0026\u0026     cd /linux-kernel \u0026\u0026     cp -r /aufs-standalone/Documentation /linux-kernel \u0026\u0026     cp -r /aufs-standalone/fs /linux-kernel \u0026\u0026     cp -r /aufs-standalone/include/uapi/linux/aufs_type.h /linux-kernel/include/uapi/linux/ \u0026\u0026     set -e \u0026\u0026 for patch in         /aufs-standalone/aufs*-kbuild.patch         /aufs-standalone/aufs*-base.patch         /aufs-standalone/aufs*-mmap.patch         /aufs-standalone/aufs*-standalone.patch         /aufs-standalone/aufs*-loopback.patch     ; do         patch -p1 \u003c \"$patch\";     done"},{"created":"2017-01-16T07:57:51.763590164Z","created_by":"/bin/sh -c #(nop) COPY file:c76ba9a7165aef3a1f8a6d1eb670da4011be9e3c757e567eae6e561b7b0584fc in /linux-kernel/.config "},{"created":"2017-01-16T08:00:28.185174997Z","created_by":"/bin/sh -c jobs=$(nproc);     cd /linux-kernel \u0026\u0026     make -j ${jobs} oldconfig \u0026\u0026     make -j ${jobs} bzImage \u0026\u0026     make -j ${jobs} modules"},{"created":"2017-01-16T08:00:31.40321899Z","created_by":"/bin/sh -c #(nop)  ENV ROOTFS=/rootfs","empty_layer":true},{"created":"2017-01-16T08:00:32.295482452Z","created_by":"/bin/sh -c mkdir -p $ROOTFS"},{"created":"2017-01-16T08:00:33.071797389Z","created_by":"/bin/sh -c mkdir -p /tmp/iso/boot"},{"created":"2017-01-16T08:00:43.366015415Z","created_by":"/bin/sh -c cd /linux-kernel \u0026\u0026     make INSTALL_MOD_PATH=$ROOTFS modules_install firmware_install"},{"created":"2017-01-16T08:00:45.907404927Z","created_by":"/bin/sh -c cd $ROOTFS/lib/modules \u0026\u0026     rm -rf ./*/kernel/sound/* \u0026\u0026     rm -rf ./*/kernel/drivers/gpu/* \u0026\u0026     rm -rf ./*/kernel/drivers/infiniband/* \u0026\u0026     rm -rf ./*/kernel/drivers/isdn/* \u0026\u0026     rm -rf ./*/kernel/drivers/media/* \u0026\u0026     rm -rf ./*/kernel/drivers/staging/lustre/* \u0026\u0026     rm -rf ./*/kernel/drivers/staging/comedi/* \u0026\u0026     rm -rf ./*/kernel/fs/ocfs2/* \u0026\u0026     rm -rf ./*/kernel/net/bluetooth/* \u0026\u0026     rm -rf ./*/kernel/net/mac80211/* \u0026\u0026     rm -rf ./*/kernel/net/wireless/*","empty_layer":true},{"created":"2017-01-16T08:00:50.026990182Z","created_by":"/bin/sh -c curl -fL http://http.debian.net/debian/pool/main/libc/libcap2/libcap2_2.22.orig.tar.gz | tar -C / -xz \u0026\u0026     cd /libcap-2.22 \u0026\u0026     sed -i 's/LIBATTR := yes/LIBATTR := no/' Make.Rules \u0026\u0026     make \u0026\u0026     mkdir -p output \u0026\u0026     make prefix=`pwd`/output install \u0026\u0026     mkdir -p $ROOTFS/usr/local/lib \u0026\u0026     cp -av `pwd`/output/lib64/* $ROOTFS/usr/local/lib"},{"created":"2017-01-16T08:01:01.20927026Z","created_by":"/bin/sh -c cd /linux-kernel \u0026\u0026     make INSTALL_HDR_PATH=/tmp/kheaders headers_install \u0026\u0026     cd / \u0026\u0026     git clone https://github.com/Distrotech/aufs-util.git \u0026\u0026     cd /aufs-util \u0026\u0026     git checkout 5e0c348bd8b1898beb1e043b026bcb0e0c7b0d54 \u0026\u0026     CPPFLAGS=\"-I/tmp/kheaders/include\" CLFAGS=$CPPFLAGS LDFLAGS=$CPPFLAGS make \u0026\u0026     DESTDIR=$ROOTFS make install \u0026\u0026     rm -rf /tmp/kheaders"},{"created":"2017-01-16T08:01:02.427683854Z","created_by":"/bin/sh -c cp -v /linux-kernel/arch/x86_64/boot/bzImage /tmp/iso/boot/vmlinuz64"},{"created":"2017-01-16T08:01:02.815347329Z","created_by":"/bin/sh -c #(nop)  ENV TCL_REPO_BASE=http://distro.ibiblio.org/tinycorelinux/7.x/x86_64","empty_layer":true}],"os":"linux","rootfs":{"type":"layers","diff_ids":["sha256:b6ca02dfe5e62c58dacb1dec16eb42ed35761c15562485f9da9364bb7c90b9b3","sha256:46633f847dad4d3db2adcbaaa8773b62f22e6d9f415139a6ae52839a1fe7a52b","sha256:548708c51b2e481d1f0011ee56d164ddea5ada9bec7e4adc62619ac942494888","sha256:56a95d0ce6f6d2051091667ba78e4abc13dd36e4a5f4c12d3313947ae9d183af","sha256:da6635e7e8fa0d878f736385cac8d959c71bf9d24c63b146bde945d3b3564bd0","sha256:0be5713ea1d54847e83634936c81ceea57f3ee1f08f0535e84b96765f7c10fe9","sha256:a4c14a370e46cdac472c8ca5fd0f1c4edbc6e59b5edc1088d0424f0f5239970e","sha256:698796ec9bf7f4ec1bdb506e3c98abb28ceadd723e92d14ce176f747f38dd8d4","sha256:c11935d875e410487157f2c1770a066f981595762be6a5f64bc289eeb70d6dd7","sha256:9e2c8e15cd6b0cc94577d1ea268fd8bd3d5662168c852a72d655edd5d0d2ab7e","sha256:1d39345d5c262f65d7b3134a06939084cb15add237576d2fbcdd34aff1fd25de","sha256:84bfda88adbc0defa8ddc3b47ac5ffe772a3c9f2b1fcc4c9e5e6bc4648396387"]}}